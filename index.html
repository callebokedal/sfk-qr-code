<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="referrer" content="strict-origin">
    <title>Excel till etiketter</title>
	<link href="lib/bootstrap-5.0.1/css/bootstrap.min.css" rel="stylesheet">
	<link href="lib/css/style.css" rel="stylesheet">
	<link rel="icon" href="lib/img/favicon.svg">
	<link rel="apple-touch-icon" href="lib/img/favicon.ico">
	<script src="lib/js/qrcode.min.js"></script>
	<script src="lib/js/purify.min.js"></script>
</head>
<body>
	<nav class="navbar navbar-dark shadow-sm">
		<div class="container">
			<a class="navbar-brand" href="#">
			<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#fff" class="bi bi-fullscreen me-1" viewBox="0 0 16 16">
				<path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"/>
			</svg>
			Skapa QR-kod
			</a>
		</div>
	</nav>

	<div class="container-sm">
		<label for="basic-url" class="form-label mt-4">Ange den adress/länk du vill skapa QR-kod för</label>
		<div class="input-group mb-3">
			<input type="text" id="inputvalue" class="form-control" placeholder="Exempel: https://ol-tools.sjovalla.se/" aria-label="Url" aria-describedby="basic-addon">
			<button class="btn btn-primary" type="button" id="createCode">Skapa kod</button>
		</div>
		<div id="qrcode" class="my-3"></div>
		<div id="qrlabel" class="fs-4"></div>
	</div>

	<script>
		'use strict';
		let qrcode = 3;
		let generateCode = (event) => {
			var text = document.getElementById("inputvalue").value;
			qrcode.makeCode(text);
			document.getElementById("qrlabel").innerHTML = DOMPurify.sanitize( text );
		};
		window.addEventListener('DOMContentLoaded', (event) => {
			console.log("Ready!");
			document.getElementById("createCode").addEventListener("click", generateCode);

			// Init
			console.log("qrcode: ", qrcode);
			qrcode = new QRCode(document.getElementById("qrcode"), {
				text: "https://ol-tools.sjovalla.se/",
				//width: 128,
				//height: 128,
				colorDark : "#3f9049",
				colorLight : "#ffffff",
				correctLevel : QRCode.CorrectLevel.H
			});
			document.getElementById("qrlabel").innerHTML = "https://ol-tools.sjovalla.se/";
		});
	</script>
</body>
</html>